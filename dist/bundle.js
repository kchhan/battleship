!function(e){var r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)n.d(t,i,function(r){return e[r]}.bind(null,i));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r,n){"use strict";n.r(r);var t,i,o=function(e,r,n){var t={name:e,length:r,location:n,hit:[],sunk:!1};return{props:t,hit:function(e){return t.hit.push(e)},isSunk:function(){var e=t.hit.sort((function(e,r){return e-r})),r=t.location.sort((function(e,r){return e-r}));return JSON.stringify(e)===JSON.stringify(r)?t.sunk=!0:t.sunk=!1}}};(function(e,r,n){var t=r(),i=r(),o=n(),c=n(),s=function(e,r){e.target.classList.contains("grid-item")&&(r=Number(e.target.id)),o.props.gameover||c.props.gameover||e.target.classList.contains("hit")||e.target.classList.contains("miss")||e.target.classList.contains("sunk")||(u(r),setTimeout(a,100)),o.props.gameover&&m("computer"),c.props.gameover&&m("user")},u=function(r){if(!t.moves.includes(r)){t.userMove(r);var n=c.receiveAttack(r);c.checkSunk(),e.updateGrid("computer",r,n),e.updateSunk("computer",c.props.ships)}},a=function(){var r=i.randomMove(),n=o.receiveAttack(r);o.checkSunk(),e.updateGrid("user",r,n),e.updateSunk("user",o.props.ships)},p=function(){h(),d(),f(),l(),function(){var r=e.getSelectors();document.querySelector(r.computerGrid).addEventListener("click",s),document.querySelector(r.resetBtn).addEventListener("click",v)}()},d=function(){e.renderGrid("user-grid"),e.renderGrid("computer-grid")},f=function(){o.createShip("carrier",5,[37,47,57,67,77]),o.createShip("battleship",4,[14,15,16,17]),o.createShip("cruiser",3,[53,63,73]),o.createShip("submarine",3,[88,89,90]),o.createShip("destroyer",2,[21,31]),c.createShip("carrier",5,[12,13,14,15,16]),c.createShip("battleship",4,[95,96,97,98]),c.createShip("cruiser",3,[35,45,55]),c.createShip("submarine",3,[61,71,81]),c.createShip("destroyer",2,[49,50])},l=function(){e.renderUserShips(o.props.ships)},h=function(){e.clearBoard()},m=function(r){e.announceWinner(r)},v=function(){t.clearMoves(),o.clearGameboard(),i.clearMoves(),c.clearGameboard(),e.clearAnnouncement(),p()};return{init:function(){p()}}})((t={container:"#container",userGrid:"#user-grid",computerGrid:"#computer-grid",resetBtn:"#reset-button",announcement:"#announcement"},i=function(e){return document.querySelector(e)},{renderGrid:function(e){var r=document.createElement("div");r.id=e,r.classList.add("board");for(var n=0;n<100;n++){var o=document.createElement("div");o.id=n+1,o.classList.add("grid-item"),o.textContent=n+1,r.appendChild(o)}i(t.container).appendChild(r)},renderUserShips:function(e){var r=i(t.userGrid);e.forEach((function(e){e.props.location.forEach((function(e){r.children[e-1].classList.add("ship")}))}))},updateGrid:function(e,r,n){switch(e){case"user":i(t.userGrid).children[r-1].classList.add(n);break;case"computer":i(t.computerGrid).children[r-1].classList.add(n)}},updateSunk:function(e,r){switch(e){case"user":r.forEach((function(e){e.props.sunk&&e.props.location.forEach((function(e){i(t.userGrid).children[e-1].classList.remove("hit"),i(t.userGrid).children[e-1].classList.add("sunk")}))}));break;case"computer":r.forEach((function(e){e.props.sunk&&e.props.location.forEach((function(e){i(t.computerGrid).children[e-1].classList.remove("hit"),i(t.computerGrid).children[e-1].classList.add("sunk")}))}))}},announceWinner:function(e){var r="";switch(e){case"user":r+="YOU WIN";break;case"computer":r+="COMPUTER WINS"}i(t.announcement).textContent=r},clearAnnouncement:function(){i(t.announcement).innerHTML=""},clearBoard:function(){i(t.container).innerHTML=""},getSelectors:function(){return t}}),(function(){var e=[];return{moves:e,randomMove:function r(){var n=Math.floor(100*Math.random()+1);return e.includes(n)?r():(e.push(n),n)},userMove:function(r){if(!e.includes(r))return e.push(r),r},clearMoves:function(){return e=[]}}}),(function(){var e={shipsLeft:5,ships:[],missedShots:[],gameover:!1};return{props:e,createShip:function(r,n,t){var i=o(r,n,t);return e.ships.push(i)},receiveAttack:function(r){var n=!1;return e.ships.forEach((function(e){e.props.location.includes(r)&&(e.props.hit.push(r),n=!0)})),n||e.missedShots.push(r),n?"hit":"miss"},checkSunk:function(){if(e.ships.filter((function(e){if(!e.props.sunk)return e})).forEach((function(r){r.isSunk(),r.props.sunk&&e.shipsLeft--})),0===e.shipsLeft)return e.gameover=!0},clearGameboard:function(){e.shipsLeft=5,e.ships=[],e.missedShots=[],e.gameover=!1}}})).init()}]);