!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";r.r(n);var t,o,i=function(e,n){var r={length:e,location:n,hit:[],sunk:!1};return{props:r,hit:function(e){return r.hit.push(e)},isSunk:function(){var e=r.hit.sort((function(e,n){return e-n})),n=r.location.sort((function(e,n){return e-n}));return JSON.stringify(e)===JSON.stringify(n)?r.sunk=!0:r.sunk=!1}}};(function(e,n,r){var t=n(),o=n(),i=r(),c=r(),s=!1,u=function(){s||i.props.gameover||c.props.gameover||(s=!0,e.announcement("game start"),setTimeout(e.clearAnnouncement,4e3))},a=function(e,n){s&&(e.target.classList.contains("grid-item")&&(n=Number(e.target.id)),i.props.gameover||c.props.gameover||e.target.classList.contains("hit")||e.target.classList.contains("miss")||e.target.classList.contains("sunk")||(d(n),setTimeout(p,100)),i.props.gameover&&g("computer"),c.props.gameover&&g("user"))},d=function(n){if(!t.moves.includes(n)){t.userMove(n);var r=c.receiveAttack(n);c.checkSunk(),e.updateGrid("computer",n,r),e.updateSunk("computer",c.props.ships)}},p=function(){var n=o.randomMove(),r=i.receiveAttack(n);i.checkSunk(),e.updateGrid("user",n,r),e.updateSunk("user",i.props.ships)},f=function(){v(),l(),h(),m(),function(){var n=e.getSelectors();document.querySelector(n.startBtn).addEventListener("click",u),document.querySelector(n.computerGrid).addEventListener("click",a),document.querySelector(n.resetBtn).addEventListener("click",S)}()},l=function(){e.renderGrid("user-grid"),e.renderGrid("computer-grid")},h=function(){var e=Math.floor(3*Math.random())+1;[{id:1,length:[5,4,3,3,2],coordinates:[[12,13,14,15,16],[95,96,97,98],[35,45,55],[61,71,81],[49,50]]},{id:2,length:[5,4,3,3,2],coordinates:[[60,70,80,90,100],[13,23,33,43],[57,58,59],[45,55,65],[28,29]]},{id:3,length:[5,4,3,3,2],coordinates:[[8,18,28,38,48],[64,65,66,67],[91,92,93],[12,22,32],[79,89]]}].forEach((function(n){if(e===n.id)for(var r=0;r<5;r++)c.createShip(n.length[r],n.coordinates[r])})),i.createShip(5,[37,47,57,67,77]),i.createShip(4,[14,15,16,17]),i.createShip(3,[53,63,73]),i.createShip(3,[88,89,90]),i.createShip(2,[21,31])},m=function(){e.renderUserShips(i.props.ships)},v=function(){e.clearBoard()},g=function(n){e.announcement(n),s=!1},S=function(){t.clearMoves(),i.clearGameboard(),o.clearMoves(),c.clearGameboard(),e.clearAnnouncement(),s=!1,f()};return{init:function(){S()}}})((t={container:"#container",userGrid:"#user-grid",computerGrid:"#computer-grid",startBtn:"#start-button",resetBtn:"#reset-button",announcement:"#announcement"},o=function(e){return document.querySelector(e)},{renderGrid:function(e){var n=document.createElement("div");n.id=e,n.classList.add("board");for(var r=0;r<100;r++){var i=document.createElement("div");i.id=r+1,i.classList.add("grid-item"),i.textContent=r+1,n.appendChild(i)}o(t.container).appendChild(n)},renderUserShips:function(e){var n=o(t.userGrid);e.forEach((function(e){e.props.location.forEach((function(e){n.children[e-1].classList.add("ship")}))}))},updateGrid:function(e,n,r){switch(e){case"user":o(t.userGrid).children[n-1].classList.add(r);break;case"computer":o(t.computerGrid).children[n-1].classList.add(r)}},updateSunk:function(e,n){switch(e){case"user":n.forEach((function(e){e.props.sunk&&e.props.location.forEach((function(e){o(t.userGrid).children[e-1].classList.remove("hit"),o(t.userGrid).children[e-1].classList.add("sunk")}))}));break;case"computer":n.forEach((function(e){e.props.sunk&&e.props.location.forEach((function(e){o(t.computerGrid).children[e-1].classList.remove("hit"),o(t.computerGrid).children[e-1].classList.add("sunk")}))}))}},announcement:function(e){var n="";switch(e){case"user":n+="YOU WIN";break;case"computer":n+="COMPUTER WINS";break;case"game start":n+="GAME START!"}o(t.announcement).textContent=n},clearAnnouncement:function(){o(t.announcement).innerHTML=""},clearBoard:function(){o(t.container).innerHTML=""},getSelectors:function(){return t}}),(function(){var e=[];return{moves:e,randomMove:function n(){var r=Math.floor(100*Math.random()+1);return e.includes(r)?n():(e.push(r),r)},userMove:function(n){if(!e.includes(n))return e.push(n),n},clearMoves:function(){return e=[]}}}),(function(){var e={shipsLeft:5,ships:[],missedShots:[],gameover:!1};return{props:e,createShip:function(n,r){var t=i(n,r);return e.ships.push(t)},receiveAttack:function(n){var r=!1;return e.ships.forEach((function(e){e.props.location.includes(n)&&(e.props.hit.push(n),r=!0)})),r||e.missedShots.push(n),r?"hit":"miss"},checkSunk:function(){if(e.ships.filter((function(e){if(!e.props.sunk)return e})).forEach((function(n){n.isSunk(),n.props.sunk&&e.shipsLeft--})),0===e.shipsLeft)return e.gameover=!0},clearGameboard:function(){e.shipsLeft=5,e.ships=[],e.missedShots=[],e.gameover=!1}}})).init()}]);